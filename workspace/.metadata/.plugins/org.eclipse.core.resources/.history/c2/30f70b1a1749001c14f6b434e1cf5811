
#include "cmvsoft.h"
#include "devices/gpio_access.h"
#include "devices/clkwiz_access.h"

//cmvConfig *cmvConfigInstance;

init_cmvSoft(cmvConfig *cmvConfigInstance)
{
	int Status = XST_FAILURE;

	cmvConfig *cmvConfigPtr = (cmvConfig *)cmvConfigInstance;




	/* Default settings */
	cmvConfigInstance->ImageName = "pic.bmp";
	cmvConfigInstance->ExposureMode = cmv_exp_external;
	cmvConfigInstance->ExposureTimeTexp1Us = 1000;
	cmvConfigInstance->ExposureTimeTexp2Us = 0;
	cmvConfigInstance->NumberOfFrame = 1;
	cmvConfigInstance->SensorMode = cmv_mode_normal;
	cmvConfigInstance->ContinuousModeOn = 0;



	/*
	 * sprawdzenie flagi napiecia sensora -> odczekanie 5 us
	 * zalaczenie zegara LVDS
	 * odczekanie 2 us
	 * zmiana SYS_RESET_N z 0 na 1 odczekanie 3 us
	 * implementacja struktury danych i ich wypelnienie
	 * zaprogramowanie sensora poprzez SPI (task?)
	 */




	return Status;
}
